"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.sequence = void 0;
const cluster_1 = require("../cluster");
/**
 * @returns a two dimensional array of sequenced Char objects
 */
const sequence = (text) => {
    const splits = /(?=[\u{05C0}\u{05D0}-\u{05F2}])/u;
    const hiriqPatach = /\u{5B4}\u{5B7}/u;
    const hiriqQamets = /\u{5B4}\u{5B8}/u;
    // for Jerusalem, where hiriq precedes patah, replace w/ correct patch-hiriq
    if (hiriqPatach.test(text))
        text = text.replace(hiriqPatach, "\u{5B7}\u{5B4}");
    else if (hiriqQamets.test(text))
        text = text.replace(hiriqQamets, "\u{5B8}\u{5B4}");
    const clusters = text.split(splits).map((word) => new cluster_1.Cluster(word));
    const sequenced = clusters.map((cluster) => cluster.chars);
    return sequenced;
};
exports.sequence = sequence;
//# sourceMappingURL=sequence.js.map